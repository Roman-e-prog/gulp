var express=require("express"),cors=require("cors"),dotenv=require("dotenv"),createTodosTable=require("./tables/todos"),todosRouter=require("./router/todosRouter"),path=require("path"),app=(dotenv.config(),express()),port=process.env.SERVER_PORT;console.log(port),console.log(process.env.NODE_ENV,"here environment"),app.use(cors()),app.use(express.json()),app.use(express.urlencoded({extended:!0})),createTodosTable(),app.use("/api/todos",todosRouter),"production"===process.env.NODE_ENV?(console.log("Running in production mode"),app.use(express.static(path.join(__dirname,"../frontend/dist")))):console.log("Please set the NODE_ENV to production"),app.listen(port,function(){console.log("App is listening on port ".concat(port))});