function _extends(){return(_extends=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a,s=arguments[t];for(a in s)!{}.hasOwnProperty.call(s,a)||(e[a]=s[a])}return e}).apply(null,arguments)}import React,{useEffect}from"react";import*as styles from"./entry.module.scss";import{useForm}from"react-hook-form";import"react-toastify/dist/ReactToastify.css";import{ToastContainer,toast}from"react-toastify";import{useTodos}from"../context";let Entry=()=>{let{register:e,handleSubmit:t,formState:a,reset:s}=useForm({defaultValues:{todo:""}}),{errors:o,isDirty:r,isValid:n,isSubmitting:l,isSubmitted:i}=a,c=useTodos().setTodos;console.log(c),useEffect(()=>{i&&s()},[i,s]);return React.createElement("div",{className:styles.container,"data-testid":"entryContainer"},React.createElement(ToastContainer,null),React.createElement("div",{className:styles.entryField},React.createElement("form",{className:styles.form,onSubmit:t(async e=>{try{let t=await(await fetch("http://localhost:5000/api/todos/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).json();c(e=>[...e,t])}catch(e){console.log(e.message),toast.error(e.message)}})},React.createElement("div",{className:styles.formGroup},React.createElement("label",{htmlFor:"addTodo",className:styles.label},"Eingabe Todo"),React.createElement("input",_extends({type:"text",id:"addTodo","data-testid":"addTodo"},e("todo",{required:{value:!0,message:"Bitte gib ein Todo ein"}}),{className:styles.input})),React.createElement("div",{className:"error"},o.addTodo?.message)),React.createElement("div",{className:styles.buttonWrapper},React.createElement("button",{className:styles.inputBtn,disabled:!n||!r||l},"Absenden")))))};export default Entry;