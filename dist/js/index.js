let express=require("express"),cors=require("cors"),dotenv=require("dotenv"),createTodosTable=require("./tables/todos"),todosRouter=require("./router/todosRouter"),app=(dotenv.config(),express()),port=process.env.SERVER_PORT;app.use(cors()),app.use(express.json()),app.use(express.urlencoded({extended:!0})),createTodosTable(),app.use("/api/todos",todosRouter),"production"===process.env.NODE_ENV?app.use(express.static(path.join(__dirname,"dist"))):console.log("Please set the NODE_ENV to production"),app.listen(port,()=>{console.log("App is listening on port "+port)});